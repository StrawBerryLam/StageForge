<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StageForge - Live Event Controller</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1>üé≠ StageForge</h1>
      <div class="header-actions">
        <div class="connection-status" id="obsStatus">
          <span class="status-indicator"></span>
          <span class="status-text">Not Connected</span>
        </div>
        <button id="connectOBS" class="btn btn-primary">Connect to OBS</button>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Sidebar - Programs -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h2>Programs</h2>
          <button id="importPPT" class="btn btn-small">+ Import PPT</button>
        </div>
        <div id="programList" class="program-list">
          <div class="empty-state">No programs imported yet</div>
        </div>
        <div class="sidebar-footer">
          <h3>Settings</h3>
          <div class="setting-item">
            <label for="displaySelect">Presentation Display:</label>
            <select id="displaySelect" class="form-input">
              <option value="0">Primary Display</option>
            </select>
          </div>
          <div class="setting-item">
            <label>LibreOffice Status:</label>
            <span id="loStatus" class="status-text">Checking...</span>
          </div>
        </div>
      </aside>

      <!-- Center - Scene Controls -->
      <main class="center-panel">
        <div class="control-section">
          <h2>Scene Control</h2>
          <div id="currentSceneInfo" class="current-scene-info">
            <div class="scene-name">No program loaded</div>
            <div class="scene-number">-</div>
          </div>
          
          <div class="control-buttons">
            <button id="startBtn" class="btn btn-control" disabled>‚ñ∂Ô∏è Start</button>
            <button id="prevBtn" class="btn btn-control" disabled>‚¨ÖÔ∏è Previous</button>
            <button id="blackoutBtn" class="btn btn-blackout" disabled>‚ö´ Blackout</button>
            <button id="nextBtn" class="btn btn-control" disabled>‚û°Ô∏è Next</button>
            <button id="stopBtn" class="btn btn-control" disabled>‚èπÔ∏è Stop</button>
          </div>

          <div class="act-list-section">
            <h3>Acts</h3>
            <div id="actList" class="act-list">
              <div class="empty-state">Load a program to see acts</div>
            </div>
          </div>
        </div>
      </main>

      <!-- Right - Preview -->
      <aside class="preview-panel">
        <h2>Preview</h2>
        <div id="previewArea" class="preview-area">
          <div class="empty-state">No preview available</div>
        </div>
        <div id="actDetails" class="act-details">
          <h3>Act Details</h3>
          <div class="detail-item">
            <label>Name:</label>
            <span id="actName">-</span>
          </div>
          <div class="detail-item">
            <label>Notes:</label>
            <span id="actNotes">-</span>
          </div>
        </div>
      </aside>
    </div>

    <!-- Status Bar -->
    <footer class="status-bar">
      <div id="statusMessage">Ready</div>
    </footer>
  </div>

  <!-- Connection Dialog -->
  <div id="connectionDialog" class="dialog" style="display: none;">
    <div class="dialog-content">
      <h2>Connect to OBS</h2>
      <form id="connectionForm">
        <div class="form-group">
          <label for="obsAddress">WebSocket Address:</label>
          <input type="text" id="obsAddress" value="ws://127.0.0.1:4455" class="form-input">
        </div>
        <div class="form-group">
          <label for="obsPassword">Password (if required):</label>
          <input type="password" id="obsPassword" class="form-input">
        </div>
        <div class="dialog-actions">
          <button type="button" id="cancelConnect" class="btn">Cancel</button>
          <button type="submit" class="btn btn-primary">Connect</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Mode Selection Dialog -->
  <div id="modeDialog" class="dialog" style="display: none;">
    <div class="dialog-content">
      <h2>Select Program Mode</h2>
      <p>Choose how you want to use this PowerPoint file:</p>
      <div class="mode-options">
        <div class="mode-option" data-mode="renderer">
          <h3>üé≠ Renderer Mode</h3>
          <p><strong>For:</strong> Drama, dance, rich animations, videos</p>
          <p><strong>How:</strong> Live playback via LibreOffice</p>
          <p><strong>Needs:</strong> LibreOffice available</p>
        </div>
        <div class="mode-option" data-mode="scene">
          <h3>üé¨ Scene Mode</h3>
          <p><strong>For:</strong> Simple backgrounds, static acts</p>
          <p><strong>How:</strong> Slides converted to OBS scenes</p>
          <p><strong>Needs:</strong> OBS connection</p>
        </div>
      </div>
      <div class="dialog-actions">
        <button type="button" id="cancelMode" class="btn">Cancel</button>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
