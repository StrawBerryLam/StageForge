# StageForge 用户指南

## 快速入门

### 1. 前提条件
使用 StageForge 前，请确保：
- ✅ 已安装并运行 OBS Studio
- ✅ 已启用 OBS WebSocket 服务器（v5.x）
- ✅ 已准备好 PowerPoint 文件（参见 TEMPLATE_GUIDE.md）

### 2. 首次启动
1. 启动 OBS Studio
2. 启动 StageForge：`npm start`
3. 您应该看到包含三个面板的主窗口

### 3. 连接到 OBS
1. 点击右上角的 **"连接到 OBS"**
2. 输入您的 OBS WebSocket 设置：
   - **地址**：`ws://127.0.0.1:4455`（默认）
   - **密码**：如果未设置则留空
3. 点击 **"连接"**
4. 状态应变为"已连接"（绿色指示器）

### 4. 导入节目
1. 点击节目侧边栏中的 **"+ 导入 PPT"**
2. 选择一个或多个 PowerPoint 文件
3. 等待处理（可能需要一些时间）
4. 节目出现在侧边栏中

### 5. 加载节目
1. 点击侧边栏中的节目名称
2. 节目内容将出现在中央面板
3. 场景将在 OBS 中自动创建
4. 预览出现在右侧面板

### 6. 控制场景
使用中央面板中的控制按钮：
- **⬅️ 上一个**：转到上一个节目内容
- **➡️ 下一个**：前进到下一个节目内容
- **⚫ 黑场**：切换到空白屏幕
- **节目内容列表**：点击任何节目内容直接跳转

## 面板概览

### 左侧面板：节目
- 列出所有已导入的节目
- 显示每个节目的内容数量
- 点击以加载节目
- 活动节目以绿色高亮显示

### 中央面板：场景控制
- 当前场景信息
- 导航按钮（上一个/下一个/黑场）
- 带跳转功能的节目内容列表
- 显示节目内容编号和名称

### 右侧面板：预览
- 显示当前幻灯片的预览
- 节目内容详情和备注
- 对操作员参考有帮助

## 详细功能

### 批量导入
您可以一次导入多个 PowerPoint 文件：
1. 点击"+ 导入 PPT"
2. 按住 Ctrl（Windows/Linux）或 Cmd（Mac）
3. 选择多个文件
4. 点击"打开"

### 场景导航
三种导航方式：
1. **顺序**：使用上一个/下一个按钮
2. **跳转**：点击列表中的节目内容
3. **键盘**：（未来功能）

### 黑场场景
用于休息或紧急情况的特殊场景：
- 完全黑屏
- 即时可用
- 不影响节目位置
- 点击任何节目内容以恢复

### 预览面板
预览帮助操作员：
- 查看下一个内容
- 验证正确的场景
- 阅读节目内容详情
- 规划转场

## 活动工作流程

### 活动前准备
1. **前一天**：
   - 导入所有节目
   - 测试每个节目
   - 在 OBS 中验证场景
   - 进行完整演练

2. **活动当天**（早期）：
   - 启动 OBS 和 StageForge
   - 连接到 OBS
   - 加载第一个节目
   - 验证所有场景正常工作
   - 设置起始场景

3. **活动开始前**：
   - 确认连接状态
   - 加载正确的节目
   - 定位到第一个节目内容
   - 保持黑场待命

### 活动期间
1. **按节目顺序进行**：
   - 使用下一个按钮进行顺序流程
   - 观察预览以确认
   - 如果需要，在段落之间使用黑场

2. **处理变化**：
   - 根据需要跳转到特定节目内容
   - 如有需要切换节目
   - 对意外暂停使用黑场

3. **监控状态**：
   - 关注连接指示器
   - 观察当前场景显示
   - 验证预览与 OBS 匹配

### 活动后
1. 节目保持保存状态
2. 可以重播以进行录制/归档
3. 如果需要可以导出/备份

## 操作员提示

### 准备
- ✅ 活动前务必测试
- ✅ 了解节目顺序
- ✅ 练习导航
- ✅ 准备备份计划

### 操作期间
- 👀 前进前观察预览
- 🎯 谨慎点击（避免双击）
- ⏸️ 使用黑场进行暂停
- 🔄 知道如何返回

### 故障排除

**连接丢失**：
1. 检查 OBS 是否仍在运行
2. 再次点击"连接到 OBS"
3. 节目将保持加载状态

**错误场景**：
1. 在列表中点击正确的节目内容
2. 或使用上一个返回
3. 在预览中验证

**节目无法加载**：
1. 检查 OBS 连接
2. 尝试重新加载节目
3. 如果需要重启 StageForge

**预览未显示**：
- 如果导入时 LibreOffice 不可用，这是正常的
- 场景在 OBS 中仍然有效
- 改用 OBS 预览

## 键盘快捷键（未来）

计划的快捷键：
- `空格` / `→`：下一个场景
- `←`：上一个场景
- `B`：黑场
- `1-9`：跳转到节目内容
- `Esc`：紧急黑场

## 高级用法

### 多个节目
您可以：
- 导入许多节目
- 在活动期间在它们之间切换
- 为不同活动创建节目集

### 自定义场景名称
场景遵循模式：`SF_[节目名称]_Act[N]`
- 不要在 OBS 中重命名（StageForge 将找不到它们）
- 您可以向场景添加源
- 原始图像源保持不变

### OBS 集成
StageForge 创建场景，但您可以：
- 在 OBS 中添加覆盖层
- 应用滤镜
- 调整源
- 使用场景集合

## 获取帮助

- 📖 阅读 README.md 了解设置
- 📋 查看 TEMPLATE_GUIDE.md 了解 PPT 提示
- 🐛 在 GitHub 上报告问题
- 💡 在 GitHub 上请求功能

## 安全提示

### 学校活动
- 让备份操作员了解系统
- 在学生到达前彻底测试
- 随时准备故障排除指南
- 准备 PowerPoint 作为后备

### 连接可靠性
- 如果可能使用有线网络
- 将 OBS 保持在同一台计算机上
- 最小化其他应用程序
- 关闭不必要的程序

### 紧急程序
1. **如果 StageForge 冻结**：直接使用 OBS
2. **如果 OBS 崩溃**：重启 OBS 和 StageForge
3. **如果连接丢失**：通过对话框重新连接
4. **如果都不起作用**：直接使用 PowerPoint

## 最佳实践

1. **早期测试**：至少在活动前 1 天导入并测试
2. **保持简单**：不要过度复杂化节目
3. **使用黑场**：在主要段落之间
4. **监控预览**：前进前务必确认
5. **保持冷静**：技术问题时有发生，准备备份

## 结论

StageForge 旨在为现场活动提供简单可靠的控制。通过适当的准备和练习，它可以提供流畅、专业的演示控制。

记住：
- 🎯 准备是关键
- 🔍 前进前务必验证
- 🆘 保持备份计划准备就绪
- 😊 熟能生巧

祝您的活动顺利！🎭
